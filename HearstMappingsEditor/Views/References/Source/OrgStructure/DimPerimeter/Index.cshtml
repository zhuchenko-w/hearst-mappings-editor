@using HearstMappingsEditor.Models
@using HearstMappingsEditor.Common
@using HearstMappingsEditor.Data.Models

@model ReferencesFilterableViewModel<DimPerimeter, DimPerimeterFilter>

@{
    ViewBag.Title = "DimPerimeter Reference";
    var controller = "DimPerimeter";
}

@section filters {
    @{Html.RenderPartial("_Filters");}
}

@section columnTitles {
    <th>PerimeterID</th>
    <th>PerimeterCode</th>
    <th>PerimeterDesc</th>
    <th>PerimeterCurrency</th>
    <th>CreateDate</th>
}

@section items {
    @{Html.RenderPartial("_List", Model.ReferenceItems);}
}

@section newItemFields {
    @{Html.RenderPartial("_NewItemFields");}
}

@section scripts {
    @Scripts.Render("~/bundles/refs")
    <script>
        var saveUrl = '@(Url.Action("Save", controller))';
        var getListUrl = '@(Url.Action("GetList", controller))';
        var getListItemUrl = '@(Url.Action("GetListItem", controller))';
        var exportUrl = '@(Url.Action("Export", controller))';
        var excelFileName = '@(Constants.ExportToExcelDimPerimeterFileName)';
        var initialLoadPageSize = @Model.InitialLoadPageSize;
        var pageSize = @Model.PageSize;
        @(string.IsNullOrEmpty(Model.Error)?"": $"showNotification('Error', '{Model.Error}');")
    </script>
    @Scripts.Render("~/bundles/refs/source/dimPerimeter")
}
